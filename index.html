<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /> <!-- FIX: user-scalabled -> user-scalable -->
  <title>저희 결혼합니다 | 상민 ♥ 진희</title>

  <!-- OG / 공유 썸네일 -->
  <meta property="og:title" content="저희 결혼합니다" />
  <meta property="og:description" content="2025년 12월 13일 (토) 오후 2시 · 더에스비웨딩컨벤션" />
  <meta property="og:image" content="https://smjhwedding.github.io/og-1200x630.jpg" />

  <!-- 폰트 프리로드 -->
  <link rel="preload" href="./Autography.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="./HakgyoansimGeurimilgiOTFR.otf" as="font" type="font/otf" crossorigin>
  <link rel="preload" href="./HakgyoansimGeurimilgiTTFR.ttf" as="font" type="font/ttf" crossorigin>
  <!-- SVG 전용: 루트의 OTF 사용 -->
  <link rel="preload" href="./Autography.otf" as="font" type="font/otf" crossorigin>

  <link rel="icon" href="/favicon.ico" />

  <style>
    /* ===== Webfonts ===== */
    @font-face {
      font-family: "SUIT Variable";
      src: url("https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/woff2/SUIT-Variable.woff2") format("woff2-variations");
      font-weight: 100 900; font-style: normal; font-display: swap;
    }
    @font-face{
      font-family: "Autography";
      src: url("./Autography.woff2") format("woff2");
      font-weight: 400 800;
      font-style: normal;
      font-display: swap;
    }
    @font-face{
      font-family: "Hakgyoansim Geurimilgi";
      src:
        url("./HakgyoansimGeurimilgiOTFR.otf") format("opentype"),
        url("./HakgyoansimGeurimilgiTTFR.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    /* SVG 전용: 루트의 OTF 사용 */
    @font-face{
      font-family: "AutographySVG";
      src: url("./Autography.otf") format("opentype");
      font-weight: 400 800;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --accent: #edacb1;
      --ink: #313131;
      --bg: #fff;
      --soft-bg: #fff5f9;
      --muted: #777;
      --radius: 14px;
      --shadow: 0 8px 32px rgba(0,0,0,.06);
      --maxw: 420px;

      --font-sans: "SUIT Variable", "Noto Sans KR", Apple SD Gothic Neo, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
      --font-fancy: "Autography", "Hakgyoansim Geurimilgi", "SUIT Variable", system-ui, -apple-system, "Noto Sans KR", sans-serif;

      /* ↓↓↓ 글씨 쓰는 속도 빠르게 (기존 대비 ↑) */
      --draw-dur: 1.25s;   /* 선 그리기 */
      --fill-dur: 1.20s;   /* 채움 */
      --per-letter: .08s;  /* 글자 간 간격 */
      --fill-gap: .60s;    /* 선→채움 지연 */

      --inv-track:.02em;
      --bride-nudge:.7px;
    }
    *{box-sizing:border-box}
    html{ font-size: calc(16px + 2pt); }
    @media (max-width: 759px) { 
      html{ font-size: calc(16px + 2pt); }
    }
    html,body{
      margin:0;padding:0;background:var(--bg);color:var(--ink);
      font-family:var(--font-fancy);-webkit-font-smoothing:antialiased;
      overflow-x:hidden;
      width:100%; /* FIX: 레이아웃 안전 */
    }

    a{color:inherit;text-decoration:none}

    .wrap{
      max-width: var(--maxw);
      width: 100%;               /* FIX: 420px 고정 -> 100%로 변경 */
      margin: 0 auto;
      padding: 0 10px;           /* FIX: 작은 화면에서 좌우 여백 확보 (잘림 방지) */
    }
    .wrap > section{ margin: 36px 0; }
    @media (min-width:760px){ .wrap > section{ margin: 48px 0; } }

    /* ===== HERO: 고정 높이 ===== */
    .hero{
      position:relative; overflow:hidden; border-radius:var(--radius);
      height:560px;
      background:#000;
      color:#fff; display:flex; align-items:flex-end; justify-content:center; text-align:center; box-shadow:var(--shadow);
      width:100%;               /* FIX: 부모 폭 따르기 */
    }

    .hero-media{
      position:absolute; inset:0; z-index:0; display:block; width:100%; height:100%; object-fit:cover;
      animation: kenburnsPlus 26s ease-in-out infinite;
      filter: brightness(1.04) contrast(1.03) saturate(1.06) drop-shadow(0 12px 40px rgba(0,0,0,.28));
      transform: scale(1.02); /* ← 살짝 축소: iOS 가장자리 깨짐 방지 */
      transform-origin: 50% 60%;
      will-change: transform;
      -webkit-mask-image: radial-gradient(120% 100% at 50% 35%, #000 62%, rgba(0,0,0,0) 100%);
              mask-image: radial-gradient(120% 100% at 50% 35%, #000 62%, rgba(0,0,0,0) 100%);
      -webkit-mask-composite: source-over;
    }
    @keyframes kenburnsPlus{
      0%   { transform: scale(1.04) translate3d(0, 0, 0) rotate(.2deg); transform-origin: 48% 62%; }
      25%  { transform: scale(1.08) translate3d(-1.5%, -1.2%, 0) rotate(-.35deg); transform-origin: 45% 58%; }
      50%  { transform: scale(1.10) translate3d(1.0%, -1.6%, 0) rotate(.35deg);  transform-origin: 55% 52%; }
      75%  { transform: scale(1.08) translate3d(1.4%, 0.6%, 0) rotate(-.2deg);   transform-origin: 52% 66%; }
      100% { transform: scale(1.04) translate3d(0, 0, 0) rotate(.2deg);           transform-origin: 48% 62%; }
    }
    .hero::after{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(80% 40% at 50% 0%, rgba(0,0,0,.15) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(0deg, rgba(0,0,0,.34) 0%, rgba(0,0,0,.18) 36%, rgba(0,0,0,0) 70%);
      z-index:1;
    }

    /* === SVG 타이포그래피 === */
    .hero-svg{
      position:absolute; inset:0; width:100%; height:100%;
      pointer-events:none; z-index:2;
    }
    .hero-svg text{ text-anchor: middle; paint-order: stroke fill; }

    .hero-inner{ position:relative; z-index:4; padding:40px 18px 26px }

    .svg-top{ animation: floatTop 8s ease-in-out infinite; }
    @keyframes floatTop{ 0%,100%{ transform: translateY(0px) } 50%{ transform: translateY(2px) } }

    .svg-top .stroke{
      fill: transparent;
      stroke: rgba(255,255,255,.7);   /* ✅ 흰색 윤곽선: 약하게 */
      stroke-width: 2.6px;           /* ✅ 선 굵기 ↑ */
      stroke-linecap: round; 
      stroke-linejoin: round;
      vector-effect: non-scaling-stroke;
    }
    .fill-top{    
      fill:#CDEED3;   /* ✅ 연두색 → 더 진한 녹색 느낌 */
      fill-opacity:1; /* ✅ 불투명하게 */
    }
    .fill-bottom{ 
      fill:#E89CB2;   /* ✅ 핑크 → 더 진한 톤 */
      fill-opacity:1; 
    }

    .hero-svg .fancy{
      font-family: "AutographySVG", "Autography", "Hakgyoansim Geurimilgi", cursive;
      letter-spacing: .02em;
    }
    .hero-svg .wgm-line{ letter-spacing: -0.16em; }

    .glyph{ opacity:0 }
    .glyph.stroke{
      stroke-dasharray: 1200;
      stroke-dashoffset: 1200;
      animation: drawLetter 3.6s ease forwards;
      animation-delay: calc(var(--i) * 0.42s + .50s);
    }
    .glyph.fill{
      animation: fillLetter 1.4s ease forwards;
      animation-delay: calc(var(--i) * 0.42s + 2.4s);
    }

    .date-plain{
      color:#fff; line-height:1.42; display:inline-block; font-weight:500;
      text-shadow: 0 2px 6px rgba(0,0,0,.35);
      max-width:100%; /* FIX: 긴 문장이 부모 폭 넘지 않도록 */
    }
    .date-plain .d1, .date-plain .d2{ display:block }
    .date-plain .d1{ font-size:1.08rem }
    .date-plain .d2{ font-size:1.0rem; opacity:.98 }

    .dday-badge{
      position:absolute;top:10px;left:50%;transform:translateX(-50%);
      z-index:4;background:rgba(0,0,0,.34); border:1px solid rgba(255,255,255,.45);
      padding:6px 10px;border-radius:999px;font-size:.78rem;backdrop-filter: blur(6px);
      color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35);
      white-space:nowrap; /* FIX: 배지 줄바꿈 방지 */
    }

    /* 공통 */
    h2.section-title{ text-align:center; margin:22px 0 8px; color:var(--accent); font-weight:400; letter-spacing:.02em;font-size:1.2rem; }
    .card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;margin:10px 0;}
    .grid{display:grid;gap:12px}
    @media (min-width: 760px){
      .grid.cols-2{grid-template-columns:1fr 1fr}
      .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    }
    .muted{color:var(--muted)}
    .center{text-align:center}
    .small{font-size:1rem}
    .btn{ display:inline-flex;align-items:center;justify-content:center;gap:8px; padding:12px 14px;border-radius:10px;background:var(--accent);color:#313131;font-weight:700;border:none;cursor:pointer; box-shadow:0 6px 18px rgba(237,172,177,.35);font-size:.92rem;white-space:nowrap; }
    .btn.ghost{background:#fff;border:1px solid #eee;box-shadow:none}
    .btns{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
    .divider{height:1px;background:linear-gradient(90deg,transparent,#eee,transparent);margin:12px 0}
    details{border-radius:12px;padding:0;overflow:hidden;border:none}
    details summary{cursor:pointer;list-style:none;font-weight:800;display:flex;align-items:center;justify-content:space-between;font-size:.95rem;padding:12px 14px;}
    details .rows{padding:8px 14px 12px}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .copy{font-size:.78rem;border:1px dashed #7774;border-radius:999px;padding:4px 8px;cursor:pointer}
    details.groom{ background: #eaf6ff; border:1px solid #d5ecff }
    details.bride{ background: #fff0f5; border:1px solid #ffe1ea }
    .countdown{display:flex;justify-content:center;gap:6px;margin-top:4px;flex-wrap:wrap} /* FIX: 작은 폭에서 줄바꿈 허용 */
    .cd-box{width:70px;height:70px;border-radius:12px;background:#fff;box-shadow:var(--shadow);display:flex;flex-direction:column;align-items:center;justify-content:center}
    .cd-number{font-size:1.16rem;font-weight:800}
    .cd-label{font-size:.7rem;color:var(--muted)}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
    .gallery picture{ display:block; aspect-ratio: 3 / 4; }
    .gallery picture > img{ width:100%; height:100%; object-fit:cover; display:block; }
    .gallery img{width:100%;aspect-ratio:3/4;object-fit:cover;border-radius:10px;cursor:pointer}
    .no-save{ -webkit-user-drag: none; user-select:none; -webkit-user-select:none }
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:50}
    .lightbox.open{display:flex}
    .lightbox .lb-inner{position:relative;max-width:92vw;max-height:86vh;display:flex;align-items:center;justify-content:center}
    .lightbox img{max-width:92vw;max-height:86vh;border-radius:12px;box-shadow:0 8px 40px rgba(0,0,0,.5);object-fit:contain;touch-action:none;}
    .lightbox .prev, .lightbox .next{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px;height:44px;border-radius:999px;background:rgba(255,255,255,.22);border:1px solid rgba(255,255,255,.55);
      display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff;cursor:pointer;user-select:none;backdrop-filter:blur(4px)
    }
    .lightbox .prev{ left:-54px } .lightbox .next{ right:-54px }
    @media (max-width: 560px){
      .lightbox .prev{ left:8px } .lightbox .next{ right:8px }
      .lightbox .prev, .lightbox .next{ width:48px; height:48px; font-size:24px }
    }
    .lightbox,
    .lightbox .lb-inner {
      touch-action: none;              /* 사파리 일부 버전 보완용 */
      overscroll-behavior: contain;    /* 뷰포트 바운스 방지 */
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }


    /* INTERVIEW */
    .interview{ padding:8px 8px; background:#fff7fa; border-radius:14px }
    .interview .title{
      text-align:center; margin:22px 0 8px; color:var(--accent); letter-spacing:.02em; font-weight:400; font-size:1.2rem;
    }
    .interview .subtitle{ text-align:center; margin:0 0 6px 0; color:var(--muted); font-size:1rem; font-weight:400; }
    .interview-inner{ max-width:460px; margin:0 auto; }

    /* 강한 등장용 공통 지속시간(원하면 700~1100ms로 조절) */
    :root{ --reveal-dur: 900ms; }

    .inter-q{
      font-size: calc(1.8rem * .7); margin:8px 0 6px; text-align:center; font-weight:800;
      opacity:0; transform: translateY(14px);
    }
    .inter-q.show{
      animation: qIn var(--reveal-dur) cubic-bezier(.2,.7,.2,1.1) forwards;
    }
    @keyframes qIn{
      0%   { opacity:0; transform: translateY(16px) }
      100% { opacity:1; transform: none }
    }

    .bubble_container{ display:grid; gap:2px; padding:0 0; margin:0 0 6px 0; }

    .bubble_box{
      display:flex; flex-direction:column; gap:1px; width:72%; margin:0 auto;
      opacity:0; filter: blur(3px);
      transform: translateY(22px) scale(.96);
      will-change: transform, opacity, filter;
    }
    .bubble_box.left{  align-items:flex-start; transform: translate(-10px,22px) scale(.96); }
    .bubble_box.right{ align-items:flex-end;   transform: translate( 10px,22px) scale(.96); }

    .bubble_box .name{ font-weight:900; font-size: calc(1.64rem * .7); color:#777; line-height:1.12; }

    .bubble_text{
      display:inline-block;border-radius:12px; padding: calc(12px * .7) calc(14px * .7);
      font-size: calc(1.8rem * .7); line-height:1.44; box-shadow:var(--shadow); max-width:100%;
      word-break: keep-all;
    }
    .left .bubble_text{ background:#eaf6ff } 
    .right .bubble_text{ background:var(--accent); color:#313131 }

    /* 등장 애니메이션(스태거 지연은 JS가 넣어줌) */
    .bubble_box.show{
      animation: bubbleIn var(--reveal-dur) cubic-bezier(.2,.7,.2,1.1) forwards;
      animation-delay: var(--delay, 0s);
    }
    @keyframes bubbleIn{
      0%   { opacity:0; filter:blur(3px); transform: translateY(28px) scale(.95); }
      60%  { opacity:1; filter:blur(0);   transform: translateY(-4px) scale(1.02); }
      100% { opacity:1; filter:blur(0);   transform: none; }
    }

    /* 말풍선 팝-섀도 */
    .bubble_box.show .bubble_text{
      animation: popShadow calc(var(--reveal-dur) * .9) ease-out forwards;
      animation-delay: calc(var(--delay,0s) + 120ms);
    }
    @keyframes popShadow{
      0%   { box-shadow: 0 4px 10px rgba(0,0,0,.08); }
      60%  { box-shadow: 0 14px 28px rgba(0,0,0,.18); }
      100% { box-shadow: var(--shadow); }
    }

    /* 반응형(기존 크기 유지) */
    @media (max-width:430px){
      .inter-q{ font-size: calc(1.6rem * .7); margin:6px 0 4px; }
      .bubble_container{ gap:2px; margin-bottom:6px }
      .bubble_box{ width:82%; }
      .bubble_text{ font-size: calc(1.6rem * .7); padding: calc(10px * .7) calc(12px * .7); line-height:1.4; }
      .bubble_box .name{ font-size: calc(1.48rem * .7); }
    }


    #invitation .poem{ font-size:1.02rem; line-height:1.45; white-space:pre-line; margin:0; }
    #invitation .small{ font-size:1.0rem }

    /* INVITATION 이름 줄 간격만 타이트하게 */
    #invitation .small p { 
      margin: 0;              /* 기본 위/아래 마진 제거 */
      line-height: 1.35;      /* 줄 높이 살짝만 */
    }

    /* 바로 다음 p(= 신부 줄)만 살짝 띄우기 */
    #invitation .small p + p { 
      margin-top: 4px;        /* 필요하면 2~6px로 조절 */
    }

    /* 두 줄 공통: 같은 자간 + 커닝/합자 끔 */
    #invitation .inv-rows .left-info,
    #invitation .inv-rows b{
      letter-spacing: var(--inv-track); /* 기본 .02em */
      font-kerning: none;
      font-variant-ligatures: none;
      font-feature-settings: "kern" 0, "liga" 0;
      text-rendering: optimizeSpeed;
    }

    /* 아이콘이 있는 신부 줄만 아주 미세하게 넓힘(시각 보정) */
    #invitation .inv-rows .left-info:has(.icon-chry){
      letter-spacing: calc(var(--inv-track) + .014em);
    }

    #invitation .inv-rows b.bride{
      transform: translateX(calc(var(--bride-nudge) * -1));
    }

    .icon-chry{ display:inline-flex; vertical-align:-2px; margin-right:4px }
    .icon-chry svg{ width:1.05em; height:1.05em; }
    .navi{ display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; align-items:center; justify-items:center; }
    .navi .btn{ width:100%; flex:none; padding:10px 8px; font-size:.9rem; min-width:0; }

    footer{padding:22px 0 14px;text-align:center;color:var(--muted);font-size:.9rem}

    .spark-layer{position:absolute; inset:0; z-index:2; pointer-events:none; overflow:hidden}
    .spark-layer canvas{position:absolute; inset:0; width:100%; height:100%; filter:blur(.4px)}

    @media (max-width: 759px){
      .card.center{ background: transparent; box-shadow: none; border-radius: 0; padding: 0; margin: 0; }
    }

    .hero-svg .wgm-line{ visibility: visible !important; }

    .wgm-row{
      transform-origin: 50% 50%;
      animation: wgmTiltDiag var(--intro-dur, 700ms) cubic-bezier(.2,.65,.2,1) both;
      animation-delay: var(--row-delay, 0s);
    }
    @keyframes wgmTiltDiag{
      0%{ opacity: 0; transform: translate(-22px, 16px) rotate(-4deg) skewX(-3deg); }
      100%{ opacity: 1; transform: translate(0,0) rotate(1.8deg) skewX(1.2deg); }
    }

    .glyph{ opacity: 0 }
    .glyph.stroke{
      stroke-dasharray: 1200; stroke-dashoffset: 1200;
      animation: wgmDraw var(--draw-dur) ease forwards;
      animation-delay: calc(var(--row-delay, 0s) + var(--i) * var(--per-letter));
    }
    @keyframes wgmDraw{
      0%   { opacity: 1; stroke-dashoffset: 1200; filter: blur(.2px) }
      85%  { opacity: 1; }
      100% { opacity: 1; stroke-dashoffset: 0; }
    }
    .glyph.fill{
      animation: wgmFill var(--fill-dur) ease forwards;
      animation-delay: calc(var(--row-delay, 0s) + var(--fill-gap) + var(--i) * var(--per-letter));
    }
    @keyframes wgmFill{
      from { opacity: 0; transform: translateY(4px) scale(1.01) }
      to   { opacity: 1; transform: none }
    }

    /* 참고용 클래스 (미사용) */
    .svg_text .two-lines { display: block; width: 100%; height: auto; }
    .svg_text .hand-text { font-family: "Nanum Pen Script", "Pacifico", "Caveat", cursive; font-weight: 700; font-size: 64px; letter-spacing: 0.5px; dominant-baseline: hanging; }
    @media (max-width: 600px) { .svg_text .hand-text { font-size: 42px; } }

    .hero-svg .stroke { filter: none; }  /* drop-shadow 제거 */
    @media (max-width: 480px) {
      :root{
        --draw-dur: 1.15s;
        --fill-dur: 1.10s;
        --per-letter: .10s;
        --fill-gap: .55s;
      }
    }

    @media (max-width: 480px) {
      @keyframes kenburnsPlus{
        0%   { transform: scale(1.03) translate3d(0,0,0) rotate(.1deg); }
        50%  { transform: scale(1.06) translate3d(.6%,-.6%,0) rotate(.2deg); }
        100% { transform: scale(1.03) translate3d(0,0,0) rotate(.1deg); }
      }
    }
    .hero-svg.measuring .wgm-row{ animation:none !important; transform:none !important; }

    /* 애니 구간에만 마스크/클립 잠깐 해제해서 번쩍임 제거 */
    .hero-svg.animfix .svg-top{
      -webkit-mask: none !important;
      mask: none !important;
      clip-path: none !important;
    }

    /* 합성 안정화 힌트 (가속/뒤면 숨김) */
    .hero-svg{ contain: paint; backface-visibility: hidden; transform: translateZ(0); }
    .glyph.stroke{ will-change: stroke-dashoffset; backface-visibility: hidden; }

    /* 혹시 남아있다면 stroke에 그림자 필터가 깜빡임 유발 → 확실히 차단 */
    .svg-top .stroke{ filter: none !important; }

    /* 애니 한 번 끝나면 완전 고정: 재스크롤/리페인트에도 재생 안 됨 */
    .hero-svg.done .glyph,
    .hero-svg.done .glyph.stroke,
    .hero-svg.done .glyph.fill{
      animation: none !important;
      opacity: 1 !important;
    }

    .hero-svg.done .glyph.stroke{
      stroke-dashoffset: 0 !important; /* 선 그리기 최종값 유지 */
    }

    /* 한 줄 유지 */
    .name-line{
      display:inline-flex;
      align-items:baseline;
      justify-content:flex-start;
      gap:8px;
      white-space:nowrap;
    }

    /* ✅ 왼쪽 정보(span)만 자간 변수 적용 */
    .name-line .left-info{ letter-spacing: var(--track, normal); }

    /* ===========================
      ACCOUNT (새 디자인)
      =========================== */
    .account { }

    .acc-accordion{ display:grid; gap:12px; }
    .acc-accordion details{
      background:#fff; border:1px solid #eee; border-radius:12px;
      box-shadow:var(--shadow); overflow:hidden;
    }
    .acc-accordion summary{
      position:relative; padding:14px 44px 14px 14px;
      font-weight:800; font-size:1rem; background:#fafafa; cursor:pointer;
      list-style:none; display:flex; align-items:center; justify-content:space-between;
    }
    .acc-accordion summary::after{
      content:"▾"; position:absolute; right:12px; top:50%;
      transform:translateY(-50%); font-size:14px; color:#9aa0a6;
    }
    .acc-accordion details[open] summary::after{ content:"▴"; }

    .acc-rows{ padding:0 }
    .acc-item{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:14px; border-top:1px dashed #e9e9e9; background:#fff;
    }
    .acc-item:first-child{ border-top:none; }
    .acc-left{ min-width:0; }
    .acc-title{ font-weight:800; margin:0 0 6px 0; font-size:.95rem; color:#444; }
    .acc-number{ font-family:var(--font-sans); font-size:1.02rem; font-weight:800; letter-spacing:.02em; }
    .acc-bank{ font-size:.88rem; color:var(--muted); margin-top:2px; }

    .btn-copy.copy{
      flex:0 0 auto; border:1px solid #e1e1e1; background:#fff; border-radius:10px;
      font-size:.86rem; padding:8px 10px; cursor:pointer;
    }
    .btn-copy.copy:active{ transform:translateY(1px) }


    /* 계좌 토글 색상: 신랑=연하늘, 신부=연핑크 */
    #acc-groom{ border-color:#d5ecff; }
    #acc-groom > summary{ background:#eaf6ff; }

    #acc-bride{ border-color:#ffe1ea; }
    #acc-bride > summary{ background:#fff0f5; }

    /* 열렸을 때 화살표 색상 살짝 맞춤(선택) */
    #acc-groom[open] > summary::after{ color:#68a9da; }
    #acc-bride[open] > summary::after{ color:#e38cab; }

    #acc-groom .acc-item{ background:#ffffff; }   /* 필요 시 #f7fbff 등 아주 연하게 변경 가능 */
    #acc-bride .acc-item{ background:#ffffff; }   /* 필요 시 #fff6fa 등 아주 연하게 변경 가능 */

    /* === INVITATION 이름 두 줄 정렬: 가운데 배치 + 좌우 끝 맞춤 === */
    .inv-rows{
      display: grid;
      grid-template-columns: max-content max-content; /* 두 칼럼 너비를 각 행의 최대 내용에 맞춰 동일화 */
      column-gap: 12px;
      row-gap: 4px;
      justify-content: center; /* 전체 블록을 가운데로 */
      align-items: baseline;
    }

    /* 각 행의 p는 레이아웃 상 "투명" 처리해서, 내부 2개 아이템이 부모 그리드의 두 칼럼에 올라가게 함 */
    .inv-row{ display: contents; }

    /* 왼쪽 설명(부모님 소개) = 좌측 칼럼: 시작점(왼쪽) 정렬 → '시작'이 두 줄에서 동일 위치 */
    .inv-rows .left-info{
      justify-self: start;
      text-align: left;
      position: relative;
      padding-left: 5px; /* 아이콘 공간 */
    }

    /* 오른쪽 이름(신랑/신부 이름) = 우측 칼럼: 끝점(오른쪽) 정렬 → '종료'가 두 줄에서 동일 위치 */
    .inv-rows b{
      justify-self: end;
      white-space: nowrap;
    }

    /* 아이콘은 왼쪽으로 살짝 튀어나오게 */
    .inv-rows .icon-chry{
      position: absolute;
      left: -16px;    /* 더 튀어나오게 하려면 -18~-22px 정도로 조절 */
      top: 50%;
      transform: translateY(-45%);
      display: inline-flex;
    }

    /* 화면 맨 위 여백 */
    header.wrap {
      margin-top: 16px; /* 16px → 20px 등 원하는 만큼 조절 */
    }

    /* === 글자 애니메이션 1회만 (자연스럽게 고정) === */
    /* 줄 기울기/등장, 상단 둥실 효과 모두 현재 프레임에서 일시정지 */
    .hero-svg.done .wgm-row,
    .hero-svg.done .svg-top{
      animation-play-state: paused !important;
    }

    /* 글리프는 이미 최종 상태로 고정 (필기/채움 값 유지) */
    .hero-svg.done .glyph,
    .hero-svg.done .glyph.stroke,
    .hero-svg.done .glyph.fill{
      animation: none !important;
      opacity: 1 !important;
    }
    .hero-svg.done .glyph.stroke{
      stroke-dashoffset: 0 !important;
    }

    /* === GALLERY: 가로 스크롤 (한 장 꽉 차게) === */
    .gallery-wrap{ position:relative; }

    .gallery{
      display:flex;
      gap:0;               /* ← 간격 제거 */
      padding:0;           /* ← 안쪽 여백 제거 */
      overflow-x:auto;
      overflow-y:hidden;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior-x: contain;
    }
    .gallery::-webkit-scrollbar{ display:none; }
    .gallery{ scrollbar-width: none; }

    .gallery picture{
      flex: 0 0 100%;      /* ← 항상 1장 */
      max-width: 100%;
      scroll-snap-align: center; /* or start */
      display:block;
      aspect-ratio: 3 / 4;
    }

    /* 더 이상 브레이크포인트에서 줄이지 않기 */
    @media (min-width:560px){
      .gallery picture{ flex-basis:100%; max-width:100%; }
    }
    @media (min-width:760px){
      .gallery picture{ flex-basis:100%; max-width:100%; }
    }

    .gallery picture > img{
      width:100%; height:100%;
      object-fit:cover; display:block;
      border-radius:10px; cursor:pointer;
    }
  </style>
</head>
<body>

  <header class="wrap">
    <div class="hero">
      <picture>
        <source data-srcset="
          https://smjhwedding.github.io/hero-1920.avif 1920w,
          https://smjhwedding.github.io/hero-1280.avif 1280w,
          https://smjhwedding.github.io/hero-768.avif 768w
        " type="image/avif" sizes="100vw">
        <source data-srcset="
          https://smjhwedding.github.io/hero-1920.webp 1920w,
          https://smjhwedding.github.io/hero-1280.webp 1280w,
          https://smjhwedding.github.io/hero-768.webp 768w
        " type="image/webp" sizes="100vw">
        <img
          class="hero-media"
          src="./KakaoTalk_20250921_234047356.jpg"
          alt=""
          width="1920" height="1080"
          fetchpriority="high" decoding="async">
      </picture>

      <div class="dday-badge" id="ddayTop">D-90</div>
      <div class="spark-layer" id="sparkLayer"></div>
      <!-- === SVG 타이틀 === -->
      <svg class="hero-svg measuring" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
        <defs>
          <!-- 위쪽 곡선 페이드 마스크 -->
          <radialGradient id="loveGrad" cx="50%" cy="35%" r="75%">
            <stop offset="0%"   stop-color="white"/>
            <stop offset="62%"  stop-color="white"/>
            <stop offset="100%" stop-color="black"/>
          </radialGradient>
          <mask id="heroMask" maskUnits="userSpaceOnUse">
            <rect x="0" y="0" width="1000" height="600" fill="black"/>
            <!-- ✅ 좌우 안전 여백 90px → 사진 유효폭 820 -->
            <rect x="90" y="0" width="820" height="600" fill="url(#loveGrad)"/>
          </mask>
          <!-- ✅ 동일하게 클리핑 -->
          <clipPath id="photoClip" clipPathUnits="userSpaceOnUse">
            <rect x="90" y="0" width="820" height="600"/>
          </clipPath>
        </defs>

        <!-- === SVG 타이틀 (2줄) === -->
        <g class="svg-top fancy" mask="url(#heroMask)" clip-path="url(#photoClip)">
          <!-- 중심(500,460) 기준 회전 + 스큐 -->
          <g id="wgmBlock" transform="rotate(-14 500 460) skewX(-6)" data-cx="560">
            <!-- 1줄 -->
            <g class="wgm-row" style="--row-delay:0.3s">
              <!-- 윤곽선 -->
              <text x="500" y="428" class="stroke wgm-line" data-row="1" style="font-weight:700; font-size:85px;">
                <tspan class="glyph stroke" style="--i:0">w</tspan>
                <tspan class="glyph stroke" style="--i:1">e</tspan>
                <tspan class="glyph stroke" style="--i:2">'</tspan>
                <tspan class="glyph stroke" style="--i:3">r</tspan>
                <tspan class="glyph stroke" style="--i:4">e</tspan>
                <tspan class="glyph stroke" style="--i:5">&#xA0;</tspan>
                <tspan class="glyph stroke" style="--i:6">g</tspan>
                <tspan class="glyph stroke" style="--i:7">e</tspan>
                <tspan class="glyph stroke" style="--i:8">t</tspan>
                <tspan class="glyph stroke" style="--i:9">t</tspan>
                <tspan class="glyph stroke" style="--i:10">i</tspan>
                <tspan class="glyph stroke" style="--i:11">n</tspan>
                <tspan class="glyph stroke" style="--i:12">g</tspan>
              </text>
              <!-- 채움 -->
              <text x="500" y="428" class="fill-top wgm-line" data-row="1" style="font-weight:700; font-size:85px;">
                <tspan class="glyph fill" style="--i:0">w</tspan>
                <tspan class="glyph fill" style="--i:1">e</tspan>
                <tspan class="glyph fill" style="--i:2">'</tspan>
                <tspan class="glyph fill" style="--i:3">r</tspan>
                <tspan class="glyph fill" style="--i:4">e</tspan>
                <tspan class="glyph fill" style="--i:5">&#xA0;</tspan>
                <tspan class="glyph fill" style="--i:6">g</tspan>
                <tspan class="glyph fill" style="--i:7">e</tspan>
                <tspan class="glyph fill" style="--i:8">t</tspan>
                <tspan class="glyph fill" style="--i:9">t</tspan>
                <tspan class="glyph fill" style="--i:10">i</tspan>
                <tspan class="glyph fill" style="--i:11">n</tspan>
                <tspan class="glyph fill" style="--i:12">g</tspan>
              </text>
            </g>

            <!-- 2줄 -->
            <g class="wgm-row" style="--row-delay:1.2s">
              <!-- 윤곽선 -->
              <text x="500" y="476" class="stroke wgm-line" data-row="2" style="font-weight:700; font-size:85px;">
                <tspan class="glyph stroke" style="--i:0">m</tspan>
                <tspan class="glyph stroke" style="--i:1">a</tspan>
                <tspan class="glyph stroke" style="--i:2">r</tspan>
                <tspan class="glyph stroke" style="--i:3">r</tspan>
                <tspan class="glyph stroke" style="--i:4">i</tspan>
                <tspan class="glyph stroke" style="--i:5">e</tspan>
                <tspan class="glyph stroke" style="--i:6">d</tspan>
              </text>
              <!-- 채움 -->
              <text x="500" y="476" class="fill-bottom wgm-line" data-row="2" style="font-weight:700; font-size:85px;">
                <tspan class="glyph fill" style="--i:0">m</tspan>
                <tspan class="glyph fill" style="--i:1">a</tspan>
                <tspan class="glyph fill" style="--i:2">r</tspan>
                <tspan class="glyph fill" style="--i:3">r</tspan>
                <tspan class="glyph fill" style="--i:4">i</tspan>
                <tspan class="glyph fill" style="--i:5">e</tspan>
                <tspan class="glyph fill" style="--i:6">d</tspan>
              </text>
            </g>
          </g>
        </g>
        <!-- === /SVG 타이틀 === -->
      </svg>

      <div class="hero-inner">
        <div class="date-plain" aria-label="일시와 장소">
          <span class="d1">2025년 12월 13일&nbsp;&nbsp;(토) 오후 2시</span>
          <span class="d2">더에스비웨딩컨벤션</span>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- INVITATION -->
    <section id="invitation" class="card center">
      <h2 class="section-title">INVITATION</h2>
      <p class="small poem">봄처럼 포근하고 여름처럼 뜨겁고
가을처럼 충만하고 겨울처럼 설레는
사람을 만났습니다.
이제 서로의
모든 계절을 지나려 합니다.
가장 빛나는 날, 늘 곁에서 아껴준
고마운 분들을 초대합니다.</p>
      <div class="divider"></div>
      <div class="small inv-rows">
        <!-- 1행: 신랑 -->
        <p class="inv-row">
          <span class="muted left-info">이제영, 윤혜정의 아들</span>
          <b>신랑 이상민</b>
        </p>

        <!-- 2행: 신부 (아이콘은 왼쪽으로 살짝 튀어나와도 됨) -->
        <p class="inv-row">
          <span class="muted left-info">
            <span class="icon-chry" aria-hidden="true">
              <!-- SVG 그대로 -->
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="국화">
                <circle cx="24" cy="24" r="4.5" fill="#ffdf7e"/>
                <g fill="#f2b7c0">
                  <circle cx="24" cy="10" r="5.2"/>
                  <circle cx="36.5" cy="14.5" r="4.8"/>
                  <circle cx="40" cy="26" r="5.4"/>
                  <circle cx="31.5" cy="36" r="5.1"/>
                  <circle cx="16.5" cy="36" r="5.1"/>
                  <circle cx="8" cy="26" r="5.4"/>
                  <circle cx="11.5" cy="14.5" r="4.8"/>
                </g>
                <g fill="#ffd6de" opacity=".95">
                  <circle cx="24" cy="6.5" r="3.2"/>
                  <circle cx="39.5" cy="12" r="3.0"/>
                  <circle cx="42" cy="26" r="3.2"/>
                  <circle cx="33.5" cy="39" r="3.1"/>
                  <circle cx="14.5" cy="39" r="3.1"/>
                  <circle cx="6" cy="26" r="3.2"/>
                  <circle cx="8.5" cy="12" r="3.0"/>
                </g>
              </svg>
            </span>
            이종명, 이정연의 딸
          </span>
          <b class="bride">신부 이진희</b>
        </p>
      </div>

    </section>

    <!-- ACCOUNT NUMBER (새 디자인) -->
    <section class="account">
      <h2 class="section-title">ACCOUNT NUMBER</h2>
      <p class="small center muted">부담 갖지 않으셔도 됩니다.<br>필요하신 분만 이용해주세요.</p>

      <div class="acc-accordion">
        <!-- 신랑측 -->
        <details id="acc-groom">
          <summary>신랑측</summary>
          <div class="acc-rows">
            <!-- 신랑 계좌 -->
            <div class="acc-item">
              <div class="acc-left">
                <p class="acc-title">신랑</p>
                <div class="acc-number">79421200552</div>
                <div class="acc-bank">카카오뱅크 (예금주 : 이상민)</div>
              </div>
              <button class="btn-copy copy" data-copy="79421200552">복사</button>
            </div>

            <!-- 신랑혼주: 아버지 -->
            <div class="acc-item">
              <div class="acc-left">
                <p class="acc-title">신랑 아버지</p>
                <div class="acc-number">01052030725</div>
                <div class="acc-bank">기업은행 (예금주 : 이제영)</div>
              </div>
              <button class="btn-copy copy" data-copy="01052030725">복사</button>
            </div>

            <!-- 신랑혼주: 어머니 -->
            <div class="acc-item">
              <div class="acc-left">
                <p class="acc-title">신랑 어머니</p>
                <div class="acc-number">1002447128328</div>
                <div class="acc-bank">우리은행 (예금주 : 윤혜정)</div>
              </div>
              <button class="btn-copy copy" data-copy="1002447128328">복사</button>
            </div>
          </div>
        </details>

        <!-- 신부측 -->
        <details id="acc-bride">
          <summary>신부측</summary>
          <div class="acc-rows">
            <!-- 신부 계좌 -->
            <div class="acc-item">
              <div class="acc-left">
                <p class="acc-title">신부</p>
                <div class="acc-number">3333114768662</div>
                <div class="acc-bank">카카오뱅크 (예금주 : 이진희)</div>
              </div>
              <button class="btn-copy copy" data-copy="3333114768662">복사</button>
            </div>

            <!-- 신부혼주: 어머니 -->
            <div class="acc-item">
              <div class="acc-left">
                <p class="acc-title">신부 어머니</p>
                <div class="acc-number">13003652103656</div>
                <div class="acc-bank">지역농축협 (예금주 : 이정연)</div>
              </div>
              <button class="btn-copy copy" data-copy="13003652103656">복사</button>
            </div>
          </div>
        </details>
      </div>
    </section>


    <!-- D-DAY -->
    <section class="card center" id="dday">
      <h2 class="section-title">D-DAY</h2>
      <p class="small">상민 ♥ 진희 결혼식이 <b><span id="dtext">90일</span></b> 남았습니다.</p>
      <div class="countdown" role="timer" aria-live="polite">
        <div class="cd-box"><div class="cd-number" id="cd-days">0</div><div class="cd-label">DAYS</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-hours">0</div><div class="cd-label">HOURS</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-mins">0</div><div class="cd-label">MINUTES</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-secs">0</div><div class="cd-label">SECONDS</div></div>
      </div>
    </section>

    <!-- GALLERY -->
    <section>
      <h2 class="section-title">GALLERY</h2>
      <p class="small muted center">사진을 클릭하면 크게 볼 수 있어요.<br>좌우 화살표로 넘길 수 있어요.</p>
      <div class="gallery-wrap card">
        <div class="gallery" id="gallery" tabindex="0" aria-label="신랑신부 갤러리 (가로 스크롤)">        
          <picture>
            <source data-srcset="
              https://smjhwedding.github.io/gallery2-1024.avif 1024w,
              https://smjhwedding.github.io/gallery2-768.avif 768w,
              https://smjhwedding.github.io/gallery2-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              https://smjhwedding.github.io/gallery2-1024.webp 1024w,
              https://smjhwedding.github.io/gallery2-768.webp 768w,
              https://smjhwedding.github.io/gallery2-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250908_010410211.jpg"
                data-full="./KakaoTalk_20250908_010410211.jpg"
                alt="gallery2"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <picture>
            <source data-srcset="
              https://smjhwedding.github.io/gallery3-1024.avif 1024w,
              https://smjhwedding.github.io/gallery3-768.avif 768w,
              https://smjhwedding.github.io/gallery3-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              https://smjhwedding.github.io/gallery3-1024.webp 1024w,
              https://smjhwedding.github.io/gallery3-768.webp 768w,
              https://smjhwedding.github.io/gallery3-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./genga1.jpg"
                data-full="./genga1.jpg"
                alt="gallery3"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <picture>
            <source data-srcset="
              https://smjhwedding.github.io/gallery4-1024.avif 1024w,
              https://smjhwedding.github.io/gallery4-768.avif 768w,
              https://smjhwedding.github.io/gallery4-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              https://smjhwedding.github.io/gallery4-1024.webp 1024w,
              https://smjhwedding.github.io/gallery4-768.webp 768w,
              https://smjhwedding.github.io/gallery4-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./4cut.jpg"
                data-full="./4cut.jpg"
                alt="gallery4"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

            <!-- 0926 base -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567-768.avif 768w,
              ./KakaoTalk_20250926_103401567-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567-768.webp 768w,
              ./KakaoTalk_20250926_103401567-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567.jpg"
                data-full="./KakaoTalk_20250926_103401567.jpg"
                alt="0926-00"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _01 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_01-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_01-768.avif 768w,
              ./KakaoTalk_20250926_103401567_01-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_01-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_01-768.webp 768w,
              ./KakaoTalk_20250926_103401567_01-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_01.jpg"
                data-full="./KakaoTalk_20250926_103401567_01.jpg"
                alt="0926-01"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _02 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_02-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_02-768.avif 768w,
              ./KakaoTalk_20250926_103401567_02-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_02-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_02-768.webp 768w,
              ./KakaoTalk_20250926_103401567_02-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_02.jpg"
                data-full="./KakaoTalk_20250926_103401567_02.jpg"
                alt="0926-02"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _03 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_03-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_03-768.avif 768w,
              ./KakaoTalk_20250926_103401567_03-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_03-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_03-768.webp 768w,
              ./KakaoTalk_20250926_103401567_03-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_03.jpg"
                data-full="./KakaoTalk_20250926_103401567_03.jpg"
                alt="0926-03"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _04 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_04-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_04-768.avif 768w,
              ./KakaoTalk_20250926_103401567_04-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_04-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_04-768.webp 768w,
              ./KakaoTalk_20250926_103401567_04-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_04.jpg"
                data-full="./KakaoTalk_20250926_103401567_04.jpg"
                alt="0926-04"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _05 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_05-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_05-768.avif 768w,
              ./KakaoTalk_20250926_103401567_05-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_05-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_05-768.webp 768w,
              ./KakaoTalk_20250926_103401567_05-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_05.jpg"
                data-full="./KakaoTalk_20250926_103401567_05.jpg"
                alt="0926-05"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _06 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_06-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_06-768.avif 768w,
              ./KakaoTalk_20250926_103401567_06-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_06-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_06-768.webp 768w,
              ./KakaoTalk_20250926_103401567_06-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_06.jpg"
                data-full="./KakaoTalk_20250926_103401567_06.jpg"
                alt="0926-06"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _07 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_07-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_07-768.avif 768w,
              ./KakaoTalk_20250926_103401567_07-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_07-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_07-768.webp 768w,
              ./KakaoTalk_20250926_103401567_07-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_07.jpg"
                data-full="./KakaoTalk_20250926_103401567_07.jpg"
                alt="0926-07"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _08 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_08-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_08-768.avif 768w,
              ./KakaoTalk_20250926_103401567_08-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_08-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_08-768.webp 768w,
              ./KakaoTalk_20250926_103401567_08-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_08.jpg"
                data-full="./KakaoTalk_20250926_103401567_08.jpg"
                alt="0926-08"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _09 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_09-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_09-768.avif 768w,
              ./KakaoTalk_20250926_103401567_09-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_09-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_09-768.webp 768w,
              ./KakaoTalk_20250926_103401567_09-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_09.jpg"
                data-full="./KakaoTalk_20250926_103401567_09.jpg"
                alt="0926-09"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _10 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_10-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_10-768.avif 768w,
              ./KakaoTalk_20250926_103401567_10-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_10-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_10-768.webp 768w,
              ./KakaoTalk_20250926_103401567_10-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_10.jpg"
                data-full="./KakaoTalk_20250926_103401567_10.jpg"
                alt="0926-10"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _11 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_11-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_11-768.avif 768w,
              ./KakaoTalk_20250926_103401567_11-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_11-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_11-768.webp 768w,
              ./KakaoTalk_20250926_103401567_11-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_11.jpg"
                data-full="./KakaoTalk_20250926_103401567_11.jpg"
                alt="0926-11"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _12 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_12-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_12-768.avif 768w,
              ./KakaoTalk_20250926_103401567_12-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_12-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_12-768.webp 768w,
              ./KakaoTalk_20250926_103401567_12-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_12.jpg"
                data-full="./KakaoTalk_20250926_103401567_12.jpg"
                alt="0926-12"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _13 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_13-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_13-768.avif 768w,
              ./KakaoTalk_20250926_103401567_13-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_13-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_13-768.webp 768w,
              ./KakaoTalk_20250926_103401567_13-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_13.jpg"
                data-full="./KakaoTalk_20250926_103401567_13.jpg"
                alt="0926-13"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _14 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_14-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_14-768.avif 768w,
              ./KakaoTalk_20250926_103401567_14-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_14-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_14-768.webp 768w,
              ./KakaoTalk_20250926_103401567_14-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_14.jpg"
                data-full="./KakaoTalk_20250926_103401567_14.jpg"
                alt="0926-14"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _15 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_15-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_15-768.avif 768w,
              ./KakaoTalk_20250926_103401567_15-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_15-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_15-768.webp 768w,
              ./KakaoTalk_20250926_103401567_15-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_15.jpg"
                data-full="./KakaoTalk_20250926_103401567_15.jpg"
                alt="0926-15"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _16 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_16-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_16-768.avif 768w,
              ./KakaoTalk_20250926_103401567_16-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_16-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_16-768.webp 768w,
              ./KakaoTalk_20250926_103401567_16-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_16.jpg"
                data-full="./KakaoTalk_20250926_103401567_16.jpg"
                alt="0926-16"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _17 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_17-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_17-768.avif 768w,
              ./KakaoTalk_20250926_103401567_17-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_17-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_17-768.webp 768w,
              ./KakaoTalk_20250926_103401567_17-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_17.jpg"
                data-full="./KakaoTalk_20250926_103401567_17.jpg"
                alt="0926-17"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _18 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_18-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_18-768.avif 768w,
              ./KakaoTalk_20250926_103401567_18-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_18-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_18-768.webp 768w,
              ./KakaoTalk_20250926_103401567_18-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_18.jpg"
                data-full="./KakaoTalk_20250926_103401567_18.jpg"
                alt="0926-18"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>

          <!-- 0926 _19 -->
          <picture>
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_19-1024.avif 1024w,
              ./KakaoTalk_20250926_103401567_19-768.avif 768w,
              ./KakaoTalk_20250926_103401567_19-512.avif 512w
            " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
            <source data-srcset="
              ./KakaoTalk_20250926_103401567_19-1024.webp 1024w,
              ./KakaoTalk_20250926_103401567_19-768.webp 768w,
              ./KakaoTalk_20250926_103401567_19-512.webp 512w
            " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
            <img class="no-save"
                src="./KakaoTalk_20250926_103401567_19.jpg"
                data-full="./KakaoTalk_20250926_103401567_19.jpg"
                alt="0926-19"
                width="1024" height="1365"
                loading="lazy" decoding="async"
                draggable="false" oncontextmenu="return false" onmousedown="return false">
          </picture>
        </div>
      </div>

      <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
        <div class="lb-inner">
          <div class="prev" id="lbPrev" aria-label="이전">‹</div>
          <img class="no-save" alt="preview" draggable="false" oncontextmenu="return false" onmousedown="return false">
          <div class="next" id="lbNext" aria-label="다음">›</div>
        </div>
      </div>
    </section>

    <!-- INTERVIEW -->
    <section class="card interview" id="interview">
      <div class="interview-inner">
        <h3 class="title">INTERVIEW</h3>
        <p class="subtitle">서로를 더 가까이</p>

        <p class="inter-q">핸드폰에 저장된 이름은?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">상민</p>
            <div class="bubble_wrapper"><p class="bubble_text">아자찌니 ✨</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">진희</p>
            <div class="bubble_wrapper"><p class="bubble_text">보스미니 🌟</p></div>
          </div>
        </div>

        <p class="inter-q">처음 본 순간 느낌?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">상민</p>
            <div class="bubble_wrapper"><p class="bubble_text">해맑게 웃는 모습이 좋았어 🍎☺️</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">진희</p>
            <div class="bubble_wrapper"><p class="bubble_text">부드러운 미소가 좋았어 ☀️😊</p></div>
          </div>
        </div>

        <p class="inter-q">내 매력 포인트는?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">상민</p>
            <div class="bubble_wrapper"><p class="bubble_text">완벽한 성대모사 🎭🎙️</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">진희</p>
            <div class="bubble_wrapper"><p class="bubble_text">쏘옥 들어가는 보조개 😊✨</p></div>
          </div>
        </div>

        <p class="inter-q">내가 제일 좋아하는 음식은?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">상민</p>
            <div class="bubble_wrapper"><p class="bubble_text">엄청 빵순이! 🥐🍞🥨</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">진희</p>
            <div class="bubble_wrapper"><p class="bubble_text">또! 또!! 또!!! 제육 🍖🔥🍚</p></div>
          </div>
        </div>

        <p class="inter-q">10년 뒤 우리 모습은?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">상민</p>
            <div class="bubble_wrapper"><p class="bubble_text">아이와 함께 보드게임 하기 🎲🧩</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">진희</p>
            <div class="bubble_wrapper"><p class="bubble_text">가족 모두 유니폼 입고 야구장 직관하기 ⚾️🏟️</p></div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCATION -->
    <section>
      <h2 class="section-title">LOCATION</h2>
      <div class="card">
        <p class="center"><b>더에스비웨딩컨벤션</b><br><span class="small muted">서울 동작구 보라매로5길 15</span></p>
        <div id="map" class="map" role="img" aria-label="예식장 지도"></div>
        <div class="navi">
          <a class="btn ghost" target="_blank"
            href="https://map.kakao.com/link/search/%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015"
            rel="noopener">카카오맵</a>
          <a class="btn ghost" target="_blank"
            href="https://map.naver.com/p/search/%EC%84%9C%EC%9A%B8%20%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015"
            rel="noopener">네이버지도</a>
          <a class="btn ghost" target="_blank"
            href="https://maps.google.com/?q=%EC%84%9C%EC%9A%B8%20%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015%20%EB%8D%94%EC%97%90%EC%8A%A4%EB%B9%84%EC%9B%A8%EB%94%A9%EC%BB%A8%EB%B2%84%EC%85%98"
            rel="noopener">구글지도</a>
        </div>
      </div>
    </section>

    <!-- TRANSPORTATION -->
    <section>
      <h2 class="section-title">TRANSPORTATION</h2>
      <div class="card small">
        
        <p class="row"><b>🚗 자가용 이용 시</b></p>
        <ul style="margin:6px 0 14px 0; padding-left:18px; line-height:1.5">
          <li>
            내비게이션에 <b>더에스비웨딩컨벤션</b> 검색
          </li>
        </ul>

        <p class="row"><b>🅿️ 주차</b></p>
        <ul style="margin:6px 0 14px 0; padding-left:18px; line-height:1.5">
          <li>
            전문건설회관 지하주차장 이용 <br> (연회장에서 차량번호 등록 시 3시간 무료주차)
          </li>
        </ul>


        <p class="row"><b>🚇 지하철 이용 시</b></p>
        <ul style="margin:6px 0 14px 0; padding-left:18px; line-height:1.5">
          <li><b>신림선 보라매병원역</b> 하차</li>
          <li>2번 출구와 전문건설회관 건물 연결</li>
          <li>엘리베이터 탑승 후 3층 이동</li>
        </ul>


      </div>
    </section>

        <!-- ETC -->
    <section>
      <h2 class="section-title">ETC</h2>
      <div class="card small">
        <p style="margin:6px 0 14px 0; line-height:1.5">
          🍽️ <b>연회장 이용시간</b> : 13:30 ~ 15:30
        </p>
      </div>
    </section>


    <!-- ICS / 캘린더 버튼 -->
    <section class="center" style="margin-top:12px">
      <div class="btns" style="justify-content:center">
        <a class="btn" id="btnAppleSamsung" href="#">아이폰/삼성 캘린더로 추가</a>
        <a class="btn ghost" id="btnGoogle" target="_blank" rel="noopener">구글 캘린더로 열기</a>
      </div>
      <p class="small muted" style="margin-top:6px">
        다운로드가 자동으로 시작되지 않으면<br>
        <a id="btnIcsDownload" href="https://smjhwedding.github.io/sangmin-jinhee-wedding-2025-12-13.ics" download="sangmin-jinhee-wedding-2025-12-13.ics">ICS 파일 직접 다운로드</a>
      </p>
      <p class="small muted" id="dlHint" style="margin-top:4px; display:none"></p>
    </section>

  </main>

  <footer>
    <div class="wrap small">
      © 2025 SANG MIN ♥ JIN HEE
    </div>
  </footer>

  <script>
    // 사진 안쪽 유효폭(= viewBox 1000에서 좌우 90씩 제외) + 1줄 스케일에 2줄 비례 적용
    // 사진 안쪽 유효폭(= 1000 - 90*2) 기준 정렬/스케일
    function fitHeroTwoLines() {
      const svg = document.querySelector('.hero-svg');
      if (!svg) return;

      const vb = svg.viewBox.baseVal;         // 1000 x 600
      const PADDING = 90;                      // 좌/우 안전 여백 (clip/mask와 동일)
      const usableW = vb.width - PADDING * 2;  // 820

      const block = svg.querySelector('#wgmBlock');
      const cx = block && block.dataset.cx ? parseFloat(block.dataset.cx) : 500;

      const line1 = svg.querySelectorAll('.wgm-line[data-row="1"]');
      const line2 = svg.querySelectorAll('.wgm-line[data-row="2"]');
      if (!line1.length || !line2.length) return;

      const alreadyDone = svg.classList.contains('done');
      const oldBlockTransform = block.getAttribute('transform') || '';

      // ✅ 끝난 뒤에는 측정용 클래스 토글을 건드리지 않아 재애니 방지
      block.setAttribute('transform', '');

      // 1) 자연 상태로 폭 측정
      [...line1, ...line2].forEach(t => t.removeAttribute('transform'));
      const naturalW1 = Math.max(1, line1[0].getBBox().width);

      // 2) 1줄 기준 배율(사진 유효폭에 맞춤, 키우진 않음)
      const scale1 = Math.min(1, usableW / naturalW1);

      // 3) 공통 적용 (평평한 좌표계에서 계산)
      function applyToLine(nodeList, scale){
        nodeList.forEach(t=>{
          const b = t.getBBox();
          const center = b.x + b.width / 2;
          const nudge = parseFloat(t.getAttribute('data-dx') || '0');
          const tx = (cx - center * scale) + nudge;
          t.setAttribute('transform', `translate(${tx},0) scale(${scale},1)`);
          t.setAttribute('text-anchor', 'middle');
        });
      }
      applyToLine(line1, scale1);
      applyToLine(line2, scale1);

      // 4) 부모 변형 원복 + measuring 처리
      if (oldBlockTransform) block.setAttribute('transform', oldBlockTransform);
      else block.removeAttribute('transform');

      if (!alreadyDone) svg.classList.remove('measuring');

      // 표시 + iOS 강제 리플로우로 위치 깜빡임 방지
      svg.classList.add('wgm-ready');
      void svg.offsetWidth;
    }

    // ⬇️ iOS 대응: resize 디바운스(+ orientationchange, pageshow) — 주소창 애니 중 잘못된 폭으로 재계산되는 것 방지
    (function(){
      let timer, rafId;
      const onStableResize = () => {
        clearTimeout(timer);
        timer = setTimeout(() => {
          if (rafId) cancelAnimationFrame(rafId);
          rafId = requestAnimationFrame(() => fitHeroTwoLines());
        }, 150); // 100~200ms 권장
      };
      window.addEventListener('resize', onStableResize, { passive: true });
      window.addEventListener('orientationchange', onStableResize, { passive: true });
      window.addEventListener('pageshow', () => setTimeout(fitHeroTwoLines, 0)); // bfcache 복귀 시
    })();

    document.addEventListener('DOMContentLoaded', () => {
      /* prod에서 webp/avif srcset 활성화 + 프리로드 */
      const isProd = location.hostname === 'smjhwedding.github.io';
      if (isProd) {
        document.querySelectorAll('source[data-srcset]').forEach(s => {
          s.setAttribute('srcset', s.getAttribute('data-srcset'));
        });
        const l = document.createElement('link');
        l.rel = 'preload'; l.as = 'image';
        l.href = 'https://smjhwedding.github.io/hero-1280.webp';
        l.setAttribute('imagesrcset', 'https://smjhwedding.github.io/hero-768.webp 768w, https://smjhwedding.github.io/hero-1280.webp 1280w, https://smjhwedding.github.io/hero-1920.webp 1920w');
        l.setAttribute('imagesizes', '100vw');
        document.head.appendChild(l);
      }

      /* 인터뷰 reveal (반복 재생 + 스태거) */
      (function setupInterviewRevealRepeat(){
        const block = document.getElementById('interview');
        if(!block) return;

        const qs     = [...block.querySelectorAll('.inter-q')];
        const groups = [...block.querySelectorAll('.bubble_container')];

        // 질문 타이틀: 뷰포트 in/out 에 따라 토글(반복)
        const ioQ = new IntersectionObserver((ents)=>{
          ents.forEach(e=>{
            if(e.isIntersecting){
              e.target.classList.remove('show');
              void e.target.offsetWidth; // reflow로 애니 초기화
              e.target.classList.add('show');
            }else{
              e.target.classList.remove('show');
            }
          });
        }, { threshold: 0.35, rootMargin: '0px 0px -8% 0px' });
        qs.forEach(q=> ioQ.observe(q));

        // 말풍선 그룹: 스태거 + 반복
        const ioB = new IntersectionObserver((ents)=>{
          ents.forEach(e=>{
            const boxes = [...e.target.querySelectorAll('.bubble_box')];
            if(e.isIntersecting){
              boxes.forEach((box,i)=>{
                box.style.setProperty('--delay', `${i*120}ms`);
                box.classList.remove('show');
                void box.offsetWidth;
                box.classList.add('show');
              });
            }else{
              boxes.forEach(box=> box.classList.remove('show'));
            }
          });
        }, { threshold: 0.35, rootMargin: '0px 0px -8% 0px' });
        groups.forEach(g=> ioB.observe(g));
      })();

      /* D-DAY */
      const target = new Date("2025-12-13T14:00:00+09:00").getTime();
      const dtext  = document.getElementById('dtext');
      const el = {
        d: document.getElementById('cd-days'),
        h: document.getElementById('cd-hours'),
        m: document.getElementById('cd-mins'),
        s: document.getElementById('cd-secs'),
      };
      function refreshDday(diffMs){
        const sec = Math.floor(diffMs/1000);
        const d = Math.floor(sec/86400);
        const h = Math.floor((sec%86400)/3600);
        const m = Math.floor((sec%3600)/60);
        const s = sec%60;
        el.d.textContent = d; el.h.textContent = h; el.m.textContent = m; el.s.textContent = s;
        if (dtext) dtext.textContent = d + "일";
        const top = document.getElementById('ddayTop');
        if (top) top.textContent = "D-" + d;
      }
      function tick(){ const now = Date.now(); let diff = Math.max(0, target - now); refreshDday(diff); }
      tick(); setInterval(tick, 1000);

      /* 복사 버튼 (전역: .copy) */
      document.addEventListener('click', (e)=>{
        const btn = e.target.closest('.copy');
        if(!btn) return;
        const text = btn.dataset.copy || btn.textContent.trim();
        navigator.clipboard.writeText(text).then(()=>{
          if (!btn.dataset.old) btn.dataset.old = btn.textContent;
          btn.textContent = '복사됨';
          setTimeout(()=>{ btn.textContent = btn.dataset.old || text; delete btn.dataset.old; }, 1200);
        });
      });

      /* 라이트박스 */
      const thumbs = Array.from(document.querySelectorAll('#gallery picture img'));
      const lb = document.getElementById('lightbox');
      const lbImg = lb?.querySelector('img');
      const prevBtn = document.getElementById('lbPrev');
      const nextBtn = document.getElementById('lbNext');
      let idx = 0, touchStartX = 0;

      function openAt(i){
        if (!lb || !lbImg) return;
        idx = (i + thumbs.length) % thumbs.length;
        const t = thumbs[idx];
        const full = t.getAttribute('data-full');
        lbImg.src = full || t.currentSrc || t.src;
        lb.classList.add('open');
      }
      function closeLb(){ if(!lb||!lbImg) return; lb.classList.remove('open'); lbImg.src = ''; }
      function next(){ openAt(idx+1) }
      function prev(){ openAt(idx-1) }

      thumbs.forEach((img,i)=> img.addEventListener('click', ()=> openAt(i)));
      lb?.addEventListener('click', (e)=>{ if(e.target === lb) closeLb(); });
      document.addEventListener('keydown', (e)=>{
        if(!lb?.classList.contains('open')) return;
        if(e.key === 'Escape') closeLb();
        if(e.key === 'ArrowRight') next();
        if(e.key === 'ArrowLeft') prev();
      });
      nextBtn?.addEventListener('click', (e)=>{ e.stopPropagation(); next(); });
      prevBtn?.addEventListener('click', (e)=>{ e.stopPropagation(); prev(); });

      lbImg?.addEventListener('touchstart', (e)=>{ touchStartX = e.changedTouches[0].clientX; }, {passive:true});
      lbImg?.addEventListener('touchend', (e)=>{
        const delta = e.changedTouches[0].clientX - touchStartX;
        if(Math.abs(delta) > 40){ delta < 0 ? next() : prev(); }
      }, {passive:true});

      document.addEventListener('contextmenu', (e)=>{
        if(e.target.closest('#gallery') || e.target.closest('#lightbox')) e.preventDefault();
      });

      /* 캘린더 */
      (function(){
        const title = '상민 ♥ 진희 결혼식';
        const locationTxt = '더에스비웨딩컨벤션, 서울 동작구 보라매로5길 15';
        const details = '상민 ♥ 진희 결혼식';
        const dtStartZ = '20251213T050000Z';
        const dtEndZ   = '20251213T070000Z';

        const isProd = location.hostname === 'smjhwedding.github.io';
        const icsUrl = isProd ? 'https://smjhwedding.github.io/sangmin-jinhee-wedding-2025-12-13.ics' : '';

        const ics = `BEGIN:VCALENDAR
  VERSION:2.0
  PRODID:-//Wedding Invite//KR
  CALSCALE:GREGORIAN
  METHOD:PUBLISH
  BEGIN:VEVENT
  UID:wedding-sangmin-jinhee-20251213@example
  SUMMARY:${title}
  LOCATION:${locationTxt}
  DESCRIPTION:${details}
  DTSTART:${dtStartZ}
  DTEND:${dtEndZ}
  END:VEVENT
  END:VCALENDAR`;

        const btnAppleSamsung = document.getElementById('btnAppleSamsung');
        const btnGoogle       = document.getElementById('btnGoogle');
        const btnIcsDownload  = document.getElementById('btnIcsDownload');
        const dlHint          = document.getElementById('dlHint');

        const gcalParams = new URLSearchParams({
          action:'TEMPLATE', text:title, details, location:locationTxt, dates:`${dtStartZ}/${dtEndZ}`
        });
        const gcalUrl = `https://calendar.google.com/calendar/render?${gcalParams.toString()}`;
        if (btnGoogle) btnGoogle.href = gcalUrl;

        (function setDownloadLink(){
          if (!btnIcsDownload) return;
          if (isProd && icsUrl){
            btnIcsDownload.href = icsUrl;
            btnIcsDownload.setAttribute('download','sangmin-jinhee-wedding-2025-12-13.ics');
          } else {
            try{
              const blob = new Blob([ics], { type:'text/calendar;charset=utf-8' });
              const blobUrl = URL.createObjectURL(blob);
              btnIcsDownload.href = blobUrl;
              btnIcsDownload.setAttribute('download','sangmin-jinhee-wedding-2025-12-13.ics');
            }catch(_){}
          }
        })();

        function openHostedICS(){ if (!icsUrl) return false; window.open(icsUrl, '_blank'); return true; }
        function openIcsLocal(){
          try{
            const blob = new Blob([ics], { type:'text/calendar;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            window.open(url, '_blank');
            setTimeout(()=> URL.revokeObjectURL(url), 10000);
          }catch(_){}
        }

        if (btnAppleSamsung){
          btnAppleSamsung.addEventListener('click', (e)=>{
            e.preventDefault();
            const ua = navigator.userAgent || '';
            const isAndroid = /Android/i.test(ua);
            const isKakao   = /KAKAOTALK/i.test(ua);

            if (isProd && icsUrl){
              openHostedICS();
              if (isAndroid){
                const msg = isKakao
                  ? '다운로드가 시작되거나 새 창이 열립니다. 카카오톡 우측 상단(⋮) → 다운로드 관리에서 .ics 파일을 탭해 주세요.'
                  : '다운로드가 시작되거나 새 창이 열립니다. 알림 또는 내 파일 > Download에서 .ics 파일을 탭해 주세요.';
                const tip = document.createElement('div');
                tip.textContent = msg;
                tip.style.cssText = 'position:fixed;left:50%;bottom:22px;transform:translateX(-50%);background:rgba(0,0,0,.85);color:#fff;padding:10px 12px;border-radius:10px;font-size:12px;z-index:9999;max-width:92vw;text-align:center;white-space:pre-line';
                document.body.appendChild(tip);
                setTimeout(()=> tip.remove(), 4200);
                if (dlHint){
                  dlHint.style.display='block';
                  dlHint.textContent='안드로이드: 알림/다운로드 목록에서 .ics 파일을 탭하면 캘린더로 열립니다.';
                }
              }
            } else {
              openIcsLocal();
            }
          });
        }
      })();

      /* 폰트 로드 후 맞춤 */
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(fitHeroTwoLines);
      } else {
        window.addEventListener('load', fitHeroTwoLines, { once: true });
      }

      /* 보케 파티클(Canvas) */
      (function bokehParticles(){
        const layer = document.getElementById('sparkLayer');
        if(!layer) return;

        const cvs = document.createElement('canvas');
        const ctx = cvs.getContext('2d');
        layer.appendChild(cvs);

        let w, h, dpr;
        function resize(){
          // 성능/배터리 보호: DPR 상한 2
          dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
          w = layer.clientWidth; h = layer.clientHeight;
          cvs.width = Math.floor(w * dpr); 
          cvs.height = Math.floor(h * dpr);
          cvs.style.width = w + 'px'; 
          cvs.style.height = h + 'px';
        }
        resize(); 
        window.addEventListener('resize', resize);

        // 파스텔 톤(사진 위에 은은)
        const colors = [
          [255,236,214], [255,213,163], [253,222,229], [246,189,197], [255,244,224]
        ];

        const particles = [];
        const COUNT = 42;            // ← 양(많을수록 풍성, 성능은 감소)
        function rnd(a,b){ return a + Math.random()*(b-a); }
        function pick(a){ return a[(Math.random()*a.length)|0]; }

        // y0 전달 시 그 위치에서 스폰(리사이즈/재생성용)
        function spawn(y0){
          const r = rnd(6, 20), c = pick(colors);
          return { 
            x: rnd(-w*0.1, w*1.1), 
            y: y0 ?? rnd(h*0.55, h*1.12),   // 하단~중하단에서 천천히 올라오게
            r, 
            vy: rnd(-0.22, -0.08),          // 위로 이동
            drift: rnd(-0.12, 0.12),        // 좌우 미세 흔들림
            a: rnd(0.35, 0.85),             // 기본 투명도
            rgb: c, 
            tw: rnd(2, 4),                  // 반짝 주기
            t0: Math.random()*6.28
          };
        }
        for(let i=0;i<COUNT;i++) particles.push(spawn());

        // 스크롤 패럴럭스(살짝 위로 당겨지는 느낌)
        let scrollY = window.scrollY||0;
        window.addEventListener('scroll', ()=>{ scrollY = window.scrollY||0; });

        function draw(){
          ctx.clearRect(0,0,cvs.width,cvs.height);
          const parallax = scrollY * 0.02;

          for(let i=0;i<particles.length;i++){
            const p = particles[i];
            p.x += p.drift; 
            p.y += p.vy;

            // 화면 위로 사라지면 아래에서 재스폰
            if(p.y < -40){ particles[i] = spawn(h + rnd(10,120)); continue; }

            // 반짝임
            const tw = 0.5 + 0.5*Math.sin((performance.now()/1000)/p.tw + p.t0);
            const alpha = Math.max(0, Math.min(1, p.a*(0.65+0.35*tw)));
            const [r,g,b] = p.rgb, R = p.r;

            const x = p.x * dpr, y = (p.y - parallax) * dpr;

            const grad = ctx.createRadialGradient(x,y,R*0.2*dpr, x,y,R*dpr);
            grad.addColorStop(0,   `rgba(${r},${g},${b},${alpha*0.95})`);
            grad.addColorStop(0.6, `rgba(${r},${g},${b},${alpha*0.35})`);
            grad.addColorStop(1,   `rgba(${r},${g},${b},0)`);

            ctx.globalCompositeOperation = 'lighter';
            ctx.fillStyle = grad;
            ctx.beginPath(); 
            ctx.arc(x, y, R*dpr, 0, Math.PI*2); 
            ctx.fill();
          }
          requestAnimationFrame(draw);
        }
        requestAnimationFrame(draw);
      })();

      /* 글씨 쓰는 동안만 mask/clip 꺼서 깜빡임 제거 (필기 애니메이션은 유지) */
      (function squashWhiteFlicker(){
        const svg = document.querySelector('.hero-svg');
        if(!svg) return;

        svg.classList.add('animfix');

        // ✅ 마지막 줄의 마지막 fill 글리프를 기준으로 종료 처리
        const rows = svg.querySelectorAll('.wgm-row');
        const lastRow = rows[rows.length - 1];
        const lastGlyph =
          (lastRow && lastRow.querySelector('.wgm-line:last-of-type .glyph.fill:last-of-type')) ||
          svg.querySelector('.glyph.fill:last-of-type'); // 폴백

        function done(){
          svg.classList.remove('animfix'); // 마스크/클립 원복
          svg.classList.add('done');       // 이후 재생하지 않음
          lastGlyph && lastGlyph.removeEventListener('animationend', done);
        }

        if (lastGlyph) {
          lastGlyph.addEventListener('animationend', done);
          setTimeout(done, 8000); // 안전망(필요시 조절)
        } else {
          svg.classList.remove('animfix');
          svg.classList.add('done');
        }
      })();

      (function initGoogleMap(){
        const el = document.getElementById('map');
        if(!el) return;

        const q = encodeURIComponent('서울 동작구 보라매로5길 15 더에스비웨딩컨벤션');
        el.innerHTML =
          `<iframe
              title="map"
              width="100%"
              height="300"
              style="border:0"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src="https://maps.google.com/maps?q=${q}&t=m&z=16&output=embed">
          </iframe>`;
      })();

      // 초기 정렬(보장)
      fitHeroTwoLines();

      /* 갤러리: 마우스 드래그/터치 스와이프 스크롤 + 드래그 중 클릭 방지 */
      (function enableGalleryDragScroll(){
        const gal = document.getElementById('gallery');
        if (!gal) return;

        let isDown = false, startX = 0, scrollX = 0, moved = false;

        const down = (x)=>{
          isDown = true; moved = false;
          startX = x; scrollX = gal.scrollLeft;
          gal.classList.add('is-dragging');
        };
        const move = (x)=>{
          if (!isDown) return;
          const dx = x - startX;
          if (Math.abs(dx) > 3) moved = true;
          gal.scrollLeft = scrollX - dx;
        };
        const up = ()=>{
          isDown = false;
          gal.classList.remove('is-dragging');
        };

        // 마우스
        gal.addEventListener('mousedown', (e)=>{ down(e.clientX); });
        gal.addEventListener('mousemove', (e)=>{ move(e.clientX); });
        gal.addEventListener('mouseleave', up);
        gal.addEventListener('mouseup', up);

        // 터치
        gal.addEventListener('touchstart', (e)=>{ down(e.touches[0].clientX); }, {passive:true});
        gal.addEventListener('touchmove', (e)=>{ move(e.touches[0].clientX); }, {passive:true});
        gal.addEventListener('touchend', up);

        // 드래그로 스크롤한 직후에는 썸네일 클릭을 무시(라이트박스 오작동 방지)
        gal.addEventListener('click', (e)=>{
          if (!moved) return; // 순수 클릭은 허용
          // moved 상태면 이번 클릭만 막음
          e.preventDefault(); e.stopPropagation();
        }, true);

        // 휠로 가로 스크롤 (트랙패드/마우스 휠)
        gal.addEventListener('wheel', (e)=>{
          if (Math.abs(e.deltaX) < Math.abs(e.deltaY)) {
            gal.scrollLeft += e.deltaY; // 세로 휠을 가로 스크롤로
            e.preventDefault();
          }
        }, { passive:false });
      })();

    });

    // data-track 값을 --track 커스텀 변수로 반영
    document.querySelectorAll('.name-line[data-track]').forEach(el=>{
      el.style.setProperty('--track', el.getAttribute('data-track'));
    });
  </script>

  <!-- 계좌 아코디언/복사: 별도 스코프 -->
  <script>
    (function(){
      const acc = document.querySelector('.account');
      if(!acc) return;

      // 계좌: 복사 버튼 (account 섹션으로 이벤트 위임)
      acc.addEventListener('click', (e)=>{
        const btn = e.target.closest('button.btn-copy.copy');
        if(!btn) return;
        const text = btn.dataset.copy || '';
        if(!text) return;
        navigator.clipboard.writeText(text).then(()=>{
          if (!btn.dataset.old) btn.dataset.old = btn.textContent;
          btn.textContent = '복사됨';
          setTimeout(()=>{ btn.textContent = btn.dataset.old || '복사'; delete btn.dataset.old; }, 1200);
        }).catch(()=>{ /* 필요 시 오류 처리 */ });
      });

      // 아코디언: 클릭한 섹션만 토글
      acc.querySelectorAll('.acc-accordion details > summary').forEach(sum=>{
        sum.addEventListener('click', (e)=>{
          e.preventDefault();           // 기본 토글 막고
          const host = sum.parentElement;
          host.open = !host.open;       // 해당 섹션만 토글
          // 동시에 하나만 열리게 하려면 아래 주석 해제
          // acc.querySelectorAll('.acc-accordion details').forEach(d => { if (d!==host) d.open = false; });
        });
      });
    })();
  </script>

  <script>
    (function blockSafariSmartZoomOnlyWhenLightboxOpen(){
      const lb = document.getElementById('lightbox');
      if (!lb) return;

      let lastTouchEnd = 0;
      const onDoubleTap = (e) => {
        if (!lb.classList.contains('open')) return;
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
          e.preventDefault();
        }
        lastTouchEnd = now;
      };

      const onGesture = (e) => {
        if (!lb.classList.contains('open')) return;
        e.preventDefault();
      };

      // passive:false 꼭 필요 (preventDefault 위해)
      document.addEventListener('touchend', onDoubleTap, { passive: false });
      document.addEventListener('gesturestart', onGesture, { passive: false });
      document.addEventListener('gesturechange', onGesture, { passive: false });
      document.addEventListener('gestureend', onGesture, { passive: false });
    })();
  </script>



</body>
</html>
